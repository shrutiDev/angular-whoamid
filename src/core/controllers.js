'use strict';

angular.module('waid.core.controllers', ['waid.core', 'waid.core.services', 'waid.idm.controllers', 'waid.core.strategy'])
  .controller('WAIDCoreDefaultModalCtrl', function ($scope, $location, waidService, waidCore, waidCoreStrategy, $uibModalInstance) {
    $scope.close = function () {
      $uibModalInstance.dismiss('close');
    };
  })
  .controller('WAIDCoreEmoticonModalCtrl', function($scope, $rootScope){
    $scope.emoticons = {
      'people':['ğŸ˜„','ğŸ˜†','ğŸ˜Š','ğŸ˜ƒ','ğŸ˜','ğŸ˜','ğŸ˜˜','ğŸ˜š','ğŸ˜³','ğŸ˜Œ','ğŸ˜†','ğŸ˜','ğŸ˜‰','ğŸ˜œ','ğŸ˜','ğŸ˜€','ğŸ˜—','ğŸ˜™','ğŸ˜›','ğŸ˜´','ğŸ˜Ÿ','ğŸ˜¦','ğŸ˜§','ğŸ˜®','ğŸ˜¬','ğŸ˜•','ğŸ˜¯','ğŸ˜‘','ğŸ˜’','ğŸ˜…','ğŸ˜“','ğŸ˜¥','ğŸ˜©','ğŸ˜”','ğŸ˜','ğŸ˜–','ğŸ˜¨','ğŸ˜°','ğŸ˜£','ğŸ˜¢','ğŸ˜­','ğŸ˜‚','ğŸ˜²','ğŸ˜±','ğŸ˜«','ğŸ˜ ','ğŸ˜¡','ğŸ˜¤','ğŸ˜ª','ğŸ˜‹','ğŸ˜·','ğŸ˜','ğŸ˜µ','ğŸ‘¿','ğŸ˜ˆ','ğŸ˜','ğŸ˜¶','ğŸ˜‡','ğŸ‘½','ğŸ’›','ğŸ’™','ğŸ’œ','â¤','ğŸ’š','ğŸ’”','ğŸ’“','ğŸ’—','ğŸ’•','ğŸ’','ğŸ’˜','ğŸ’–','âœ¨','â­','ğŸŒŸ','ğŸ’«','ğŸ’¥','ğŸ’¥','ğŸ’¢','â—','â“','â•','â”','ğŸ’¤','ğŸ’¨','ğŸ’¦','ğŸ¶','ğŸµ','ğŸ”¥','ğŸ’©','ğŸ’©','ğŸ’©','ğŸ‘','ğŸ‘','ğŸ‘','ğŸ‘','ğŸ‘Œ','ğŸ‘Š','ğŸ‘Š','âœŠ','âœŒ','ğŸ‘‹','âœ‹','âœ‹','ğŸ‘','â˜','ğŸ‘‡','ğŸ‘ˆ','ğŸ‘‰','ğŸ™Œ','ğŸ™','ğŸ‘†','ğŸ‘','ğŸ’ª','ğŸƒ','ğŸƒ','ğŸ‘«','ğŸ‘ª','ğŸ‘¬','ğŸ‘­','ğŸ’ƒ','ğŸ‘¯','ğŸ™†','ğŸ™…','ğŸ’','ğŸ™‹','ğŸ‘°','ğŸ™','ğŸ™','ğŸ™‡','ğŸ’','ğŸ’‘','ğŸ’†','ğŸ’‡','ğŸ’…','ğŸ‘¦','ğŸ‘§','ğŸ‘©','ğŸ‘¨','ğŸ‘¶','ğŸ‘µ','ğŸ‘´','ğŸ‘±','ğŸ‘²','ğŸ‘³','ğŸ‘·','ğŸ‘®','ğŸ‘¼','ğŸ‘¸','ğŸ˜º','ğŸ˜¸','ğŸ˜»','ğŸ˜½','ğŸ˜¼','ğŸ™€','ğŸ˜¿','ğŸ˜¹','ğŸ˜¾','ğŸ‘¹','ğŸ‘º','ğŸ™ˆ','ğŸ™‰','ğŸ™Š','ğŸ’‚','ğŸ’€','ğŸ¾','ğŸ‘„','ğŸ’‹','ğŸ’§','ğŸ‘‚','ğŸ‘€','ğŸ‘ƒ','ğŸ‘…','ğŸ’Œ','ğŸ‘¤','ğŸ‘¥','ğŸ’¬','ğŸ’­'],
      'nature':['â˜€','â˜‚','â˜','â„','â˜ƒ','âš¡','ğŸŒ€','ğŸŒ','ğŸŒŠ','ğŸ±','ğŸ¶','ğŸ­','ğŸ¹','ğŸ°','ğŸº','ğŸ¸','ğŸ¯','ğŸ¨','ğŸ»','ğŸ·','ğŸ½','ğŸ®','ğŸ—','ğŸµ','ğŸ’','ğŸ´','ğŸ','ğŸ«','ğŸ‘','ğŸ˜','ğŸ¼','ğŸ','ğŸ¦','ğŸ¤','ğŸ¥','ğŸ£','ğŸ”','ğŸ§','ğŸ¢','ğŸ›','ğŸ','ğŸœ','ğŸ','ğŸŒ','ğŸ™','ğŸ ','ğŸŸ','ğŸ³','ğŸ‹','ğŸ¬','ğŸ„','ğŸ','ğŸ€','ğŸƒ','ğŸ…','ğŸ‡','ğŸ‰','ğŸ','ğŸ“','ğŸ•','ğŸ–','ğŸ','ğŸ‚','ğŸ²','ğŸ¡','ğŸŠ','ğŸª','ğŸ†','ğŸˆ','ğŸ©','ğŸ¾','ğŸ’','ğŸŒ¸','ğŸŒ·','ğŸ€','ğŸŒ¹','ğŸŒ»','ğŸŒº','ğŸ','ğŸƒ','ğŸ‚','ğŸŒ¿','ğŸ„','ğŸŒµ','ğŸŒ´','ğŸŒ²','ğŸŒ³','ğŸŒ°','ğŸŒ±','ğŸŒ¼','ğŸŒ¾','ğŸš','ğŸŒ','ğŸŒ','ğŸŒ','ğŸŒš','ğŸŒ‘','ğŸŒ’','ğŸŒ“','ğŸŒ”','ğŸŒ•','ğŸŒ–','ğŸŒ—','ğŸŒ˜','ğŸŒœ','ğŸŒ›','ğŸŒ™','ğŸŒ','ğŸŒ','ğŸŒ','ğŸŒ‹','ğŸŒŒ','â›…'],
      'objects':['ğŸ','ğŸ’','ğŸ','ğŸ’','ğŸ“','ğŸ','ğŸ†','ğŸ‡','ğŸ','ğŸ‘','ğŸƒ','ğŸ‘»','ğŸ…','ğŸ„','ğŸ','ğŸ””','ğŸ”•','ğŸ‹','ğŸ‰','ğŸŠ','ğŸˆ','ğŸ”®','ğŸ’¿','ğŸ“€','ğŸ’¾','ğŸ“·','ğŸ“¹','ğŸ¥','ğŸ’»','ğŸ“º','ğŸ“±','â˜','â˜','ğŸ“','ğŸ“Ÿ','ğŸ“ ','ğŸ’½','ğŸ“¼','ğŸ”‰','ğŸ”ˆ','ğŸ”‡','ğŸ“¢','ğŸ“£','âŒ›','â³','â°','âŒš','ğŸ“»','ğŸ“¡','â¿','ğŸ”','ğŸ”','ğŸ”“','ğŸ”’','ğŸ”','ğŸ”','ğŸ”‘','ğŸ’¡','ğŸ”¦','ğŸ”†','ğŸ”…','ğŸ”Œ','ğŸ”‹','ğŸ“²','âœ‰','ğŸ“«','ğŸ“®','ğŸ›€','ğŸ›','ğŸš¿','ğŸš½','ğŸ”§','ğŸ”©','ğŸ”¨','ğŸ’º','ğŸ’°','ğŸ’´','ğŸ’µ','ğŸ’·','ğŸ’¶','ğŸ’³','ğŸ’¸','ğŸ“§','ğŸ“¥','ğŸ“¤','âœ‰','ğŸ“¨','ğŸ“¯','ğŸ“ª','ğŸ“¬','ğŸ“­','ğŸ“¦','ğŸšª','ğŸš¬','ğŸ’£','ğŸ”«','ğŸ”ª','ğŸ’Š','ğŸ’‰','ğŸ“„','ğŸ“ƒ','ğŸ“‘','ğŸ“Š','ğŸ“ˆ','ğŸ“‰','ğŸ“œ','ğŸ“‹','ğŸ“†','ğŸ“…','ğŸ“‡','ğŸ“','ğŸ“‚','âœ‚','ğŸ“Œ','ğŸ“','âœ’','âœ','ğŸ“','ğŸ“','ğŸ“•','ğŸ“—','ğŸ“˜','ğŸ“™','ğŸ““','ğŸ“”','ğŸ“’','ğŸ“š','ğŸ”–','ğŸ“›','ğŸ”¬','ğŸ”­','ğŸ“°','ğŸˆ','ğŸ€','âš½','âš¾','ğŸ¾','ğŸ±','ğŸ‰','ğŸ³','â›³','ğŸšµ','ğŸš´','ğŸ‡','ğŸ‚','ğŸŠ','ğŸ„','ğŸ¿','â™ ','â™¥','â™£','â™¦','ğŸ’','ğŸ’','ğŸ†','ğŸ¼','ğŸ¹','ğŸ»','ğŸ‘¾','ğŸ®','ğŸƒ','ğŸ´','ğŸ²','ğŸ¯','ğŸ€„','ğŸ¬','ğŸ“','ğŸ“','ğŸ“–','ğŸ¨','ğŸ¤','ğŸ§','ğŸº','ğŸ·','ğŸ¸','ğŸ‘','ğŸ‘¡','ğŸ‘ ','ğŸ’„','ğŸ‘¢','ğŸ‘•','ğŸ‘•','ğŸ‘”','ğŸ‘š','ğŸ‘—','ğŸ½','ğŸ‘–','ğŸ‘˜','ğŸ‘™','ğŸ€','ğŸ©','ğŸ‘‘','ğŸ‘’','ğŸ‘','ğŸŒ‚','ğŸ’¼','ğŸ‘œ','ğŸ‘','ğŸ‘›','ğŸ‘“','ğŸ£','â˜•','ğŸµ','ğŸ¶','ğŸ¼','ğŸº','ğŸ»','ğŸ¸','ğŸ¹','ğŸ·','ğŸ´','ğŸ•','ğŸ”','ğŸŸ','ğŸ—','ğŸ–','ğŸ','ğŸ›','ğŸ¤','ğŸ±','ğŸ£','ğŸ¥','ğŸ™','ğŸ˜','ğŸš','ğŸœ','ğŸ²','ğŸ¢','ğŸ¡','ğŸ³','ğŸ','ğŸ©','ğŸ®','ğŸ¦','ğŸ¨','ğŸ§','ğŸ‚','ğŸ°','ğŸª','ğŸ«','ğŸ¬','ğŸ­','ğŸ¯','ğŸ','ğŸ','ğŸŠ','ğŸ‹','ğŸ’','ğŸ‡','ğŸ‰','ğŸ“','ğŸ‘','ğŸˆ','ğŸŒ','ğŸ','ğŸ','ğŸ ','ğŸ†','ğŸ…','ğŸŒ½'],
      'places':['ğŸ ','ğŸ¡','ğŸ«','ğŸ¢','ğŸ£','ğŸ¥','ğŸ¦','ğŸª','ğŸ©','ğŸ¨','ğŸ’’','â›ª','ğŸ¬','ğŸ¤','ğŸŒ‡','ğŸŒ†','ğŸ¯','ğŸ°','â›º','ğŸ­','ğŸ—¼','ğŸ—¾','ğŸ—»','ğŸŒ„','ğŸŒ…','ğŸŒ ','ğŸ—½','ğŸŒ‰','ğŸ ','ğŸŒˆ','ğŸ¡','â›²','ğŸ¢','ğŸš¢','ğŸš¤','â›µ','â›µ','ğŸš£','âš“','ğŸš€','âœˆ','ğŸš','ğŸš‚','ğŸšŠ','ğŸš','ğŸš²','ğŸš¡','ğŸšŸ','ğŸš ','ğŸšœ','ğŸš™','ğŸš˜','ğŸš—','ğŸš—','ğŸš•','ğŸš–','ğŸš›','ğŸšŒ','ğŸš','ğŸš¨','ğŸš“','ğŸš”','ğŸš’','ğŸš‘','ğŸš','ğŸšš','ğŸš‹','ğŸš‰','ğŸš†','ğŸš…','ğŸš„','ğŸšˆ','ğŸš','ğŸšƒ','ğŸš','ğŸ«','â›½','ğŸš¦','ğŸš¥','âš ','ğŸš§','ğŸ”°','ğŸ§','ğŸ°','ğŸš','ğŸ’ˆ','â™¨','ğŸ','ğŸŒ','ğŸ®','ğŸ—¿','ğŸª','ğŸ­','ğŸ“','ğŸš©']
    }
  })
  .controller('WAIDCoreCtrl', function ($scope, waidCore, $rootScope, $location, $window, waidService, growl, $routeParams, $log, $cookies) {
    if (angular.isDefined($rootScope.config)) {
      waidCore.config.patchConfig($rootScope.config);
    }
    // console.log($rootScope.config);
    waidCore.account = {'id':angular.isDefined($rootScope.accountId) ? $rootScope.accountId : false};
    waidCore.application = {'id':angular.isDefined($rootScope.applicationId) ? $rootScope.applicationId : false};
   
    $rootScope.$watch('waid', function(waid){
      if (typeof waid != "undefined") {
        // Init once
        if (!waid.isInit) {
          if (waid.account && waid.application) {
            waid.isInit = true;
            waidService.authenticate();
          }
        }

        var waidAlCode = $location.search().waidAlCode; 
        if (waidAlCode) {
          waidService.userAutoLoginGet(waidAlCode).then(function(data) {
            $location.search('waidAlCode', null);
          });
        };
      }
    }, true);

    waidCore.init();
  });